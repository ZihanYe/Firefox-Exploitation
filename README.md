# Firefox-Exploitation
Exploit Firefox Vulnerabilities

:spider::spider::spider::spider::spider::spider:

## Setup:
OS: Ubuntu 64-bit

### 1. Get Firefox source code 
from https://ftp.mozilla.org/pub/firefox/releases/ , or alternatively run 
```
  hg clone https://hg.mozilla.org/releases/mozilla-release/ firefox63 -u <rev>
```
where <rev> is the changeset hash found in https://hg.mozilla.org/releases/mozilla-release/tags,
and if switching to another changeset:
```
  Hg update -r <rev>
```
  
### 2. Configuration
    - normal debug build:
    ```
          echo "# for debug" > mozconfig
          echo "ac_add_options --disable-optimize" >> mozconfig
          echo "ac_add_options --enable-debug" >> mozconfig
    ```
    - ASAN build:
          see https://developer.mozilla.org/en-US/docs/Mozilla/Testing/Firefox_and_Address_Sanitizer
          
### 3. Build
   ```
          ./mach bootstrap
          ./mach build
   ```
   
:hammer_and_pick: Troubleshooting:
I have run into many errors especially when trying to build older versions of Firefox. Below are solutions I found:

- Could not find gconf-2.0 :
  sudo apt-get install gconf-2.0
  sudo apt-get install -y libgconf2-dev
  
- configure error with sed 4.3: sed: character class syntax is [[:space:]], not [:space:]
  - open build/autoconf/icu.m4
  - modify manually according to https://bugzilla.mozilla.org/attachment.cgi?id=8825307&action=diff
  
- anything with rustc/cargo version: 
  It is likely because we are using newer version of rustc now and we need to downgrade it.
  - Find rustc version used at the time of the older version (https://wiki.mozilla.org/Rust_Update_Policy_for_Firefox)
  - run ```$ ~/.cargo/bin/rustup self uninstall```
  - install:  
    ```
      $ curl https://sh.rustup.rs -sSf | sh
       Choose:
         2) Custom Installation
            default host triple <enter>
            default toolchain  1.22.1
            Modify PATH variable? (y/n)  n
       Then Choose:
         1) Proceed with installation (default)
    ```
  
### 4. Make JS shell (optional)
  ```
  cd js/src
  autoconf2.13

  # This name should end with "_DBG.OBJ" to make the version control system ignore it.
  mkdir build_DBG.OBJ
  cd build_DBG.OBJ
  ../configure --enable-debug --disable-optimize
  # Use "mozmake" on Windows
  make
  ```
  
## List of Vulnerabilities:

          
