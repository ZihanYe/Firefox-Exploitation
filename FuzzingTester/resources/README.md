# Notes

## preference

When running a large number of tests in Firefox headless mode, we want some preferences of Firefox set automatically during start-up. In addition we don't want any other disruption like pop-up asking for setting Firefox to default browser.

This can be done by using profiles. Either, download example prefs.js somewhere, for example from https://github.com/MozillaSecurity/fuzzdata/blob/master/settings/firefox/prefs-default-e10s.js 

Or run Firefox binary once, then find its default profile in folder called ```profile-default``` (maybe different depending on versions), then create a file ```user.js``` in this folder, add additional preferences inside ```user.js```

I found the following preferences useful for Fuzzing tests:

```
security.sandbox.content.level = 1
toolkit.startup.max_resumed_crashes = -1
browser.startup.page = 0
browser.shell.checkDefaultBrowser = false
browser.sessionstore.resume_from_crash = false
browser.tabs.warnOnOpen = false
browser.tabs.warnOnClose = false
security.insecure_field_warning.contextual.enabled = false
security.insecure_password.ui.enabled = false
```

## Online resources for fuzzing tests with browser

- https://blog.mozilla.org/security/2012/06/20/7-tips-for-fuzzing-firefox-more-effectively/

