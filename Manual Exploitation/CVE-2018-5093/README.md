# CVE-2018-5093

Heap-buffer-overflow READ 8 Â· js::WasmTableObject::getImpl

A heap buffer overflow vulnerability may occur in WebAssembly during Memory/Table resizing, resulting in a potentially exploitable crash.

Type: heap overflow

FF version: 57.0 (ASAN build)


running  ```./mach run --debug --disable-e10s --fuzzing-safe ../CVE-2018-5093/crash.html```

gives:

=================================================================
==75534==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020004d2920 at pc 0x7fffdba21012 bp 0x7fffffff1050 sp 0x7fffffff1040
READ of size 8 at 0x6020004d2920 thread T0
    #0 0x7fffdba21011 in js::WasmTableObject::getImpl(JSContext*, JS::CallArgs const&) /home/clover/firefox-57.0/js/src/wasm/WasmJS.cpp:1720
    #1 0x7fffdba37560 in CallNonGenericMethod<IsTable, js::WasmTableObject::getImpl> /home/clover/firefox-57.0/objdir-ff-asan/dist/include/js/CallNonGenericMethod.h:100
    #2 0x7fffdba21692 in js::WasmTableObject::get(JSContext*, unsigned int, JS::Value*) /home/clover/firefox-57.0/js/src/wasm/WasmJS.cpp:1742
    #3 0x7fffd9f92250 in js::CallJSNative(JSContext*, bool (*)(JSContext*, unsigned int, JS::Value*), JS::CallArgs const&) (/home/clover/firefox-57.0/objdir-ff-asan/dist/bin/libxul.so+0x14abb250)
    #4 0x7fffd9f21173 in js::InternalCallOrConstruct(JSContext*, JS::CallArgs const&, js::MaybeConstruct) /home/clover/firefox-57.0/js/src/vm/Interpreter.cpp:495
    #5 0x7fffd9f219eb in InternalCall /home/clover/firefox-57.0/js/src/vm/Interpreter.cpp:540
    #6 0x7fffd9f21ac5 in js::CallFromStack(JSContext*, JS::CallArgs const&) /home/clover/firefox-57.0/js/src/vm/Interpreter.cpp:546

    
Reference:
[1] https://bugzilla.mozilla.org/show_bug.cgi?id=1415291